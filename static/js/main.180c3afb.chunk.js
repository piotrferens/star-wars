(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),i=a(42),o=a(137),s=a(9),m=a(135),u=a(127),p=a(35),d=a(136),E=a(18),g=a.n(E),f=a(128),h=a(131),b=a(129),v=a(130),y=g()((function(e){return{cardHeader:{backgroundColor:e.palette.grey[200]},image:{maxWidth:"100%",maxHeight:"100%"},link:{color:"inherit",textDecoration:"none"}}}));function w(e){var t=e.title,a=e.src,n=e.path,c=y();return r.a.createElement(u.a,{item:!0,xs:12,md:4},r.a.createElement(f.a,null,r.a.createElement(b.a,{title:t,titleTypographyProps:{align:"center"},className:c.cardHeader}),r.a.createElement(i.b,{to:n,className:c.link},r.a.createElement(v.a,null,r.a.createElement(h.a,null,r.a.createElement("img",{className:c.image,src:a,alt:""})),r.a.createElement(d.a,{textAlign:"center",m:1},r.a.createElement(p.a,{variant:"button",color:"primary",align:"center"},"Choose"))))))}function N(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{component:"div"},r.a.createElement(d.a,{textAlign:"center",fontSize:22,m:3},"Choose a resource you want to play")),r.a.createElement(u.a,{container:!0,spacing:5,alignItems:"flex-end",justify:"center"},r.a.createElement(w,{title:"People",src:"https://icon-library.net/images/luke-skywalker-icon/luke-skywalker-icon-8.jpg",path:"/people"}),r.a.createElement(w,{title:"Starships",src:"https://vignette.wikia.nocookie.net/starwars/images/6/69/Various_ships-SWU.jpg/revision/latest?cb=20170401153204",path:"/starships"})))}var S=a(24),O=a(133),j=a(132),k=a(57),x=a.n(k),W=g()((function(e){return{error:{backgroundColor:e.palette.error.dark,marginTop:20},message:{display:"flex",alignItems:"center"},icon:{fontSize:20,opacity:.9,marginRight:e.spacing(1)}}}));function C(e){var t=e.text,a=e.onRetryClick,n=W();return r.a.createElement(j.a,{className:n.error,"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:n.message},r.a.createElement(x.a,{className:n.icon}),t),action:r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(O.a,{onClick:a,color:"inherit"},"Retry"))})}var I=a(62),T=a(134),R=g()((function(){return{grid:{marginTop:20},card:{minWidth:275,height:96},title:{fontSize:14}}}));function F(){var e=R();return r.a.createElement(u.a,{item:!0,xs:12,md:4},r.a.createElement(f.a,{className:e.card},r.a.createElement(h.a,null,r.a.createElement(T.a,{height:21}),r.a.createElement(T.a,{height:31}))))}var P=Object(I.a)({grid:{marginTop:20}});function _(){var e=P();return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{container:!0,spacing:5,alignItems:"center",justify:"center",className:e.grid},r.a.createElement(T.a,{variant:"rect",width:20,height:20}),r.a.createElement(F,null),r.a.createElement("div",null,"VS"),r.a.createElement(F,null),r.a.createElement(T.a,{variant:"rect",width:20,height:20})),r.a.createElement(u.a,{container:!0,justify:"center",spacing:5,className:e.grid},r.a.createElement(T.a,{variant:"rect",width:120,height:36})))}function V(e){var t=e.children,a=e.url,n=Object(S.b)(a),c=n.data,l=n.error,i=n.revalidate,o=n.isValidating;return l&&!o?r.a.createElement(C,{onRetryClick:i,text:"There was a problem with swapi.co \ud83d\ude22."}):r.a.createElement(r.a.Fragment,null,c?t(c):r.a.createElement(_,null))}var D=a(12);function z(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=(t=1,a=e,Math.floor(Math.random()*(a-t+1)+t));return r.includes(c)?z(e,n,r):(r.push(c),r.length===n?r:z(e,n,r))}var M=Object(I.a)({grid:{marginTop:20},box:{textAlign:"center",marginTop:20},span:{marginLeft:6}});function H(e){var t=e.count,a=e.url,c=e.children,l=e.selectWinner,i=M(),o=Object(n.useState)(0),s=Object(D.a)(o,2),m=s[0],p=s[1],E=Object(n.useState)(z(t)),g=Object(D.a)(E,2),f=g[0],h=g[1],b=Object(S.b)("".concat(a).concat(f[0],"/")),v=Object(S.b)("".concat(a).concat(f[1],"/"));if(!b.isValidating&&!v.isValidating&&(b.error||v.error))return r.a.createElement(C,{text:"Failed to fetch players",onRetryClick:function(){b.revalidate(),v.revalidate()}});if(!b.data||!v.data)return r.a.createElement(_,null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{container:!0,spacing:5,alignItems:"center",justify:"center",className:i.grid},c(b.data,v.data,l(b.data,v.data),m)),r.a.createElement(d.a,{className:i.box},r.a.createElement(O.a,{onClick:function(){h(z(t)),p(m+1)}},"Play again",r.a.createElement("span",{className:i.span,role:"img","aria-label":"Swords"},"\u2694\ufe0f"))))}var A=a(31);function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(A.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var G={people:{leftSideWins:0,rightSideWins:0},starships:{leftSideWins:0,rightSideWins:0}},J=r.a.createContext(G),U=r.a.createContext((function(){}));function q(e,t){switch(t.type){case"INCREMENT_LEFT_SIDE_WINS":return B({},e,Object(A.a)({},t.payload,B({},e[t.payload],{leftSideWins:e[t.payload].leftSideWins+1})));case"INCREMENT_RIGHT_SIDE_WINS":return B({},e,Object(A.a)({},t.payload,B({},e[t.payload],{rightSideWins:e[t.payload].rightSideWins+1})));default:return e}}function K(e){var t=r.a.useReducer(q,G),a=Object(D.a)(t,2),n=a[0],c=a[1];return r.a.createElement(J.Provider,{value:n},r.a.createElement(U.Provider,{value:c},e.children))}var Q=g()({card:{minWidth:275},title:{fontSize:14}});function X(e){var t=e.name,a=e.value,n=e.color,c=Q();return r.a.createElement(u.a,{item:!0,xs:12,md:4},r.a.createElement(f.a,{className:c.card,style:{border:"2px solid ".concat(n)}},r.a.createElement(h.a,null,r.a.createElement(p.a,{className:c.title,color:"textSecondary",align:"center"},t),r.a.createElement(p.a,{variant:"h5",component:"h2",align:"center"},a))))}var Y={draw:"#ef6c00",win:"#2e7d32",lose:"#d50000"};function Z(e,t){return"draw"===e?Y.draw:t===e?Y.win:Y.lose}var $=Object(I.a)({counter:{fontSize:18,fontWeight:"bold"}});function ee(e){var t=e.playerName,a=e.opponentName,c=e.playerValue,l=e.opponentValue,i=e.winner,o=e.game,s=e.resource,m=$(),u=r.a.useContext(J),p=r.a.useContext(U),d=Z(i,"left"),E=Z(i,"right");return Object(n.useEffect)((function(){"left"===i?p({type:"INCREMENT_LEFT_SIDE_WINS",payload:s}):"right"===i&&p({type:"INCREMENT_RIGHT_SIDE_WINS",payload:s})}),[o,i,p,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:m.counter,"data-testid":"leftCounter"},u[s].leftSideWins),r.a.createElement(X,{name:t,value:c,color:d}),r.a.createElement("div",null,"VS"),r.a.createElement(X,{name:a,value:l,color:E}),r.a.createElement("div",{className:m.counter,"data-testid":"rightCounter"},u[s].rightSideWins))}var te=a(58),ae=a.n(te),ne=g()({button:{position:"absolute",left:0}});function re(){var e=ne();return r.a.createElement(O.a,{onClick:Object(s.g)().goBack,className:e.button},r.a.createElement(ae.a,{fontSize:"large"}))}var ce=function(e,t){var a=Number(e.mass),n=Number(t.mass);return a>n?e:n>a?t:"draw"},le=function(e,t){var a=Number(e.crew),n=Number(t.crew);return a>n?e:n>a?t:"draw"};function ie(e,t){return"draw"===e?"draw":e.name===t.name?"left":"right"}function oe(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement(V,{url:"/people/"},(function(e){return r.a.createElement(H,{count:e.count,url:"/people/",selectWinner:ce},(function(e,t,a,n){return r.a.createElement(ee,{playerName:e.name,playerValue:e.mass,opponentName:t.name,opponentValue:t.mass,winner:ie(a,e),game:n,resource:"people"})}))})))}function se(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,null),r.a.createElement(V,{url:"/starships/"},(function(e){return r.a.createElement(H,{count:e.count,url:"/starships/",selectWinner:le},(function(e,t,a,n){return r.a.createElement(ee,{playerName:e.name,playerValue:e.crew,opponentName:t.name,opponentValue:t.crew,winner:ie(a,e),game:n,resource:"starships"})}))})))}var me={fetcher:function(e,t){return fetch("https://swapi.co/api"+e,t).then((function(e){if(e.status>=400)throw new Error("Failed to fetch");return e.json()}))},errorRetryInterval:0,shouldRetryOnError:!1,revalidateOnFocus:!1};a(99);l.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,null),r.a.createElement((function(){return r.a.createElement(S.a,{value:me},r.a.createElement(K,null,r.a.createElement(m.a,{maxWidth:"md",component:"main"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:N}),r.a.createElement(s.b,{path:"/people",component:oe}),r.a.createElement(s.b,{path:"/starships",component:se}),r.a.createElement(s.a,{to:"/"})))))}),null)),document.getElementById("root"))},70:function(e,t,a){e.exports=a(100)}},[[70,1,2]]]);
//# sourceMappingURL=main.180c3afb.chunk.js.map